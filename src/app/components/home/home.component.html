<div class="jumbotron">
  <div class="well well-lg welcomeWell">
    <h1><span class="siteName">MusicDex</span></h1>
  </div>
  <hr />
  <h6 class="desc">
    Endless songs fine-tuned to your musical palette.
  </h6>
</div>
<div class="well well-lg instructionWell">
  <h6>
    Simply begin by pressing one of the buttons below to add an artist, song or
    genre to your music 'mixture'.
  </h6>
</div>
<ng-container *ngIf="arrayFull(); then showMax; else showButtons">
</ng-container>
<ng-template #showMax>
  <div class="well">
    <h6>
      You have added the maximum number of elements. Clear your mix or delete
      some items if you'd like to re-add!
    </h6>
  </div>
</ng-template>
<ng-template #showButtons>
  <div class="btn-group btn-group-justified">
    <a href="search" class="btn btn-default artistSongButton">Artist/Song</a>
    <a class="btn btn-default genreButton" (click)="toggleGenreSearchbar()"
      >Genre</a
    >
  </div>
</ng-template>
<!-- DISPLAYING GENRE SEARCHBAR -->
<div *ngIf="showGenreSearch">
  <div class="well genreWell">
    <h6>Please select a genre below.</h6>
    <ngx-select-dropdown
      tabindex="0"
      [multiple]="false"
      [(ngModel)]="singleSelect"
      [config]="config"
      [options]="options"
    ></ngx-select-dropdown>
    <div class="btn-group genreBtns">
      <a
        class="btn btn-primary btn-sm addGenreBtn"
        (click)="addGenre(singleSelect)"
        >Add Genre</a
      >
      <a
        class="btn btn-default btn-sm"
        id="cancel"
        (click)="hideGenreSearchbar()"
        >Cancel</a
      >
    </div>
  </div>
</div>
<div *ngIf="arrayEmpty()">
  <div class="well emptyWell">
    <h6>
      Your mix is currently empty. Add up to a maximum of 5 items and get
      listening!
    </h6>
  </div>
</div>
<div *ngIf="!arrayEmpty()">
  <!--
  <div class="well mobileWell mobileOnly">
    <p>
      Hi there mobile user! Simply tap here or anywhere outside of the panels to
      flip them to the front!
    </p>
  </div>
  -->
  <a class="btn btn-danger btn-sm clearAll" (click)="deleteAllEntities()"
    >Clear All</a
  >
</div>
<!-- Container that holds the items the user adds to their 'mix' -->
<div class="mixContainer">
  <div *ngFor="let entity of getMixArray()">
    <!-- IF USER ADDS AN ARTIST -->
    <div *ngIf="entity.type == 'artist'">
      <div
        class="flip-container"
        ontouchstart="this.classList.toggle('hover');"
      >
        <div class="flipper">
          <div class="panel panel-warning entityCard front">
            <div class="panel-heading">
              <h3 class="panel-title">Artist</h3>
            </div>
            <div class="panel-body entityContainer">
              <img
                class="panelImage"
                src="{{ entity.image }}"
                alt="Artist Image"
              />
              <div class="entityNameContainer">
                <h4>
                  {{ entity.name }}
                </h4>
              </div>
            </div>
          </div>
          <div class="panel panel-warning entityCard back">
            <div class="panel-heading">
              <h3 class="panel-title">Artist</h3>
            </div>
            <div class="panel-body entityContainer">
              <input
                type="image"
                class="deleteImage"
                src="../assets/delete.png"
                alt="Artist Image"
                (click)="deleteEntity('artist', entity.id)"
              />
              <div class="entityNameContainerBack">
                <h4>
                  {{ entity.name }}
                </h4>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- IF USER ADDS A TRACK -->
    <div *ngIf="entity.type == 'track'">
      <div
        class="flip-container"
        ontouchstart="this.classList.toggle('hover');"
      >
        <div class="flipper">
          <div class="panel panel-danger entityCard front">
            <div class="panel-heading">
              <h3 class="panel-title">Track</h3>
            </div>
            <div class="panel-body entityContainer">
              <img
                class="panelImage"
                src="../assets/genre.png"
                alt="Track Image"
              />
              <div class="entityNameContainer">
                <h4>
                  {{ entity.name }}
                </h4>
              </div>
            </div>
          </div>
          <div class="panel panel-danger entityCard back">
            <div class="panel-heading">
              <h3 class="panel-title">Track</h3>
            </div>
            <div class="panel-body entityContainer">
              <img
                class="deleteImage"
                src="../assets/delete.png"
                alt="Track Image"
              />
              <div class="entityNameContainerBack">
                <h4>
                  {{ entity.name }}
                </h4>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- IF USER ADDS A GENRE -->
    <div *ngIf="entity.type == 'genre'">
      <div
        class="flip-container"
        ontouchstart="this.classList.toggle('hover');"
      >
        <div class="flipper">
          <div class="panel panel-info entityCard front">
            <div class="panel-heading">
              <h3 class="panel-title">Genre</h3>
            </div>
            <div class="panel-body entityContainer">
              <img
                class="panelGenreImage"
                src="../assets/genre.png"
                alt="Flat Genre Image"
              />
              <div class="entityNameContainer">
                <h4>
                  {{ entity.name }}
                </h4>
              </div>
            </div>
          </div>
          <div class="panel panel-info entityCard back">
            <div class="panel-heading">
              <h3 class="panel-title">Genre</h3>
            </div>
            <div class="panel-body entityContainer">
              <img
                class="deleteImage"
                src="../assets/delete.png"
                alt="Flat Genre Image"
                (click)="deleteEntity('genre', entity.id)"
              />
              <div class="entityNameContainerBack">
                <h4>
                  {{ entity.name }}
                </h4>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- BIG BUTTON AT THE BOTTOM THAT CREATES PLAYLIST -->
  <a href="#" class="btn btn-success btn-lg btn-block generateButton"
    >MAKE ME A MIX!</a
  >
</div>
