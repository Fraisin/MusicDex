<div *ngIf="album">
  <div id="albumContainer">
    <div id="albumHeadingContainer">
      <h1 class="albumName">{{ album.name }}</h1>
    </div>
    <br />
    <img
      class="albumCover"
      src="{{ album.images[0].url }}"
      alt="Album Cover Art"
    />
  </div>
  <div class="label">
    <h2 class="labelHeading">Information</h2>
    <img class="labelImage" src="../assets/info.svg" alt="Info Symbol" />
  </div>
  <div class="infoBlock well">
    <div class="popularity">
      <p class="text-warning">Popularity</p>
      <div id="popularityChart" class="donut-size">
        <div class="pie-wrapper">
          <span class="popularityLabel">
            <span class="num">{{ album.popularity }}</span>
          </span>
          {{ updateDonutChart("#popularityChart", album.popularity) }}
          <div class="pie">
            <div class="left-side half-circle defaultPopularityColour"></div>
            <div class="right-side half-circle defaultPopularityColour"></div>
          </div>
          <div class="shadow"></div>
        </div>
      </div>
    </div>
    <div class="infoTextColLeft">
      <div class="infoTextRow">
        <h4 class="infoTextLabel">Released By:</h4>
        <h4 class="infoTextValue">
          {{ album.artists[0].name }}
        </h4>
      </div>
      <div class="infoTextRow">
        <h4 class="infoTextLabel">Released On:</h4>
        <h4 class="infoTextValue">{{ album.release_date }}</h4>
      </div>
      <div class="infoTextRow">
        <h4 class="infoTextLabel">Duration:</h4>
        <h4 class="infoTextValue">{{ album.total_tracks }}</h4>
      </div>
    </div>
    <div class="infoTextColRight">
      <div class="infoTextRow">
        <h4 class="infoTextLabel">Number of Tracks:</h4>
        <h4 class="infoTextValue">{{ album.total_tracks }}</h4>
      </div>
      <div class="infoTextRow">
        <h4 class="infoTextLabel">Label:</h4>
        <h5 class="labelTextValue">{{ album.label }}</h5>
      </div>
      <div class="infoTextRow">
        <h4 class="infoTextLabel">Copyright:</h4>
        <div class="copyrightContainer">
          <h6 class="copyrightTextValue">{{ album.copyrights[0].text }}</h6>
        </div>
      </div>
    </div>
    <div id="artistPhotoContainer">
      <a href="artist/{{ artistID }}">
        <img
          id="artistPhoto"
          class="albumCover"
          src="{{ artistPhoto }}"
          alt="Photo of This Album's Artist"
        />
      </a>
    </div>
  </div>
  <div class="label">
    <h2 class="labelHeading">Tracks</h2>
    <img class="labelImage" src="../assets/note.svg" alt="Music Note" />
  </div>
  <div id="tracksContainer">
    <div *ngFor="let track of tracks; let i = index">
      <ul>
        <li>
          <input type="checkbox" checked />
          <i></i>
          <div>
            <div class="trackBlock well">
              <img
                class="albumCoverInTrackBlock"
                src="{{ album.images[0].url }}"
                alt="Album Cover Art"
              />
              <div class="trackInfoContainer">
                <h2 class="trackName">{{ track.name }}</h2>
                <div class="durationAndArtists">
                  <h3 class="trackDuration">
                    {{ msToSongTime(track.duration_ms) }}
                  </h3>
                </div>
              </div>
              <div class="popularity">
                <p class="text-warning">Popularity</p>
                <div id="{{ 'popularityChart' + i }}" class="donut-size">
                  <div class="pie-wrapper">
                    <span class="popularityLabel">
                      <span class="num">
                        {{ allTracksInfo[i]?.popularity }}
                      </span>
                    </span>
                    {{
                      updateDonutChart(
                        "#popularityChart" + i,
                        allTracksInfo[i]?.popularity
                      )
                    }}
                    <div class="pie">
                      <div
                        class="left-side half-circle defaultPopularityColour"
                      ></div>
                      <div
                        class="right-side half-circle defaultPopularityColour"
                      ></div>
                    </div>
                    <div class="shadow"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div id="accordionExpansion">
            <div class="audioFeatureContainer">
              <div
                *ngFor="
                  let audioInfo of allTracksAudioFeatures[i] | keyvalue;
                  index as j
                "
              >
                <div class="audioFeatureCircle">
                  <p class="featureHeading">
                    {{ audioInfo.key }}
                  </p>
                  <div
                    id="{{ 'audioFeatureChart' + audioInfo.key + i }}"
                    class="donut-size"
                  >
                    <div class="pie-wrapper">
                      <span class="popularityLabel">
                        <span class="num">
                          {{ audioInfo.value * 100 }}
                        </span>
                      </span>
                      {{
                        updateDonutChart(
                          "#audioFeatureChart" + audioInfo.key + i,
                          audioInfo.value * 100
                        )
                      }}
                      <div class="pie">
                        <div
                          class="left-side half-circle {{ 'circle' + j }}"
                        ></div>
                        <div
                          class="right-side half-circle {{ 'circle' + j }}"
                        ></div>
                      </div>
                      <div class="shadow"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </li>
      </ul>
    </div>
  </div>
</div>
